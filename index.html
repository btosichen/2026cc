<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å€‹äººè³‡æ–™ä¿è­·èˆ‡è‘—ä½œåˆç†ä½¿ç”¨ - èª²å ‚æ•™å­¸ç¶²</title>
    <style>
        /* CSS æ¨£å¼å€ï¼šæ§åˆ¶ç¶²é å¤–è§€ */
        :root {
            --primary: #2563eb;
            --secondary: #64748b;
            --success: #16a34a;
            --danger: #dc2626;
            --bg: #f8fafc;
            --card: #ffffff;
        }

        body {
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
            background-color: var(--bg);
            color: #1e293b;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* å¡ç‰‡è¨­è¨ˆ */
        .card {
            background: var(--card);
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 25px;
        }

        /* å°è¦½åˆ— */
        .header {
            background: var(--primary);
            color: white;
            padding: 1rem 0;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* ç™»å…¥è¡¨å–® */
        .login-box {
            max-width: 400px;
            margin: 50px auto;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
        }

        .btn {
            cursor: pointer;
            border: none;
            border-radius: 6px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            transition: opacity 0.2s;
            width: 100%;
        }

        .btn-primary { background: var(--primary); color: white; }
        .btn-success { background: var(--success); color: white; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-secondary { background: var(--secondary); color: white; }
        .btn:hover { opacity: 0.9; }

        /* æ¸¬é©—é¡Œç›® */
        .question {
            margin-bottom: 30px;
            border-bottom: 1px solid #f1f5f9;
            padding-bottom: 20px;
        }

        .options label {
            display: block;
            background: #f1f5f9;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            font-weight: normal;
        }

        .options label:hover { background: #e2e8f0; }
        .options input { width: auto; margin-right: 10px; }

        /* è§£æå€å¡Š */
        .explanation {
            display: none;
            margin-top: 10px;
            padding: 15px;
            background: #f0fdf4;
            border-left: 4px solid var(--success);
            color: #166534;
            border-radius: 4px;
        }

        /* è¡¨æ ¼ç´€éŒ„ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
        }

        th { background: #f8fafc; }

        .hidden { display: none; }
        
        .result-msg {
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
        }

        /* éŸ¿æ‡‰å¼ */
        @media (max-width: 600px) {
            .container { padding: 10px; }
            .card { padding: 20px; }
        }
    </style>
</head>
<body>

<div id="app">
    <!-- é é¦– -->
    <div id="nav-section" class="header hidden">
        <div class="container" style="display: flex; justify-content: space-between; align-items: center;">
            <span id="user-display">å­¸ç”Ÿå§“å</span>
            <div>
                <button class="btn btn-secondary" style="padding: 5px 15px; width: auto;" onclick="showRecords()">ç´€éŒ„</button>
                <button class="btn btn-danger" style="padding: 5px 15px; width: auto;" onclick="logout()">ç™»å‡º</button>
            </div>
        </div>
    </div>

    <!-- 1. ç™»å…¥ç•«é¢ -->
    <div id="login-screen" class="container">
        <div class="card login-box">
            <h2 style="text-align: center; color: var(--primary);">è³‡è¨Šç§‘æŠ€ èª²å ‚æ¸¬é©—</h2>
            <div class="form-group">
                <label>ç­ç´š</label>
                <select id="input-class">
                    <option value="701">701</option>
                    <option value="702">702</option>
                    <option value="703">703</option>
                    <option value="704">704</option>
                    <option value="705">705</option>
                </select>
            </div>
            <div class="form-group">
                <label>åº§è™Ÿ</label>
                <input type="number" id="input-seat" placeholder="ä¾‹å¦‚ï¼š01">
            </div>
            <div class="form-group">
                <label>å§“å</label>
                <input type="text" id="input-name" placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
            </div>
            <button class="btn btn-primary" onclick="login()">é€²å…¥èª²ç¨‹</button>
            <p style="text-align: center; margin-top: 20px;">
                <a href="javascript:void(0)" onclick="showRecords()">æŸ¥çœ‹æ­·å²ç´€éŒ„</a>
            </p>
        </div>
    </div>

    <!-- 2. èª²ç¨‹å…§å®¹èˆ‡æ¸¬é©—ç•«é¢ -->
    <div id="main-screen" class="container hidden">
        <div class="card">
            <h2 style="color: var(--primary);">ç¬¬3ç¯€ è‘—ä½œåˆç†ä½¿ç”¨</h2>
            <p>åˆç†ä½¿ç”¨ä¸¦ä¸æ˜¯ä¸€é …å¯ä»¥éš¨æ„ä¸»å¼µçš„æ¬Šåˆ©ï¼Œè€Œæ˜¯å¿…é ˆæ ¹æ“šå…·é«”æƒ…æ³ã€ç›®çš„èˆ‡å½±éŸ¿ï¼Œé€²è¡Œå¯©æ…åˆ¤æ–·ï¼Œæ‰èƒ½åœ¨ä¿éšœå‰µä½œè€…æ¬Šç›Šèˆ‡ä¿ƒé€²ç¤¾æœƒåˆ©ç”¨ä¹‹é–“å–å¾—å¹³è¡¡ã€‚</p>
            <div style="background: #eff6ff; padding: 15px; border-radius: 8px; margin: 15px 0;">
                <strong>æ ¸å¿ƒæ¦‚å¿µï¼š</strong><br>
                ç‚ºäº†åœ¨ä¿éšœè‘—ä½œäººæ¬Šåˆ©çš„åŒæ™‚ï¼Œä¹Ÿå…¼é¡§ç¤¾æœƒç™¼å±•èˆ‡å…¬å…±åˆ©ç›Šï¼Œã€Šè‘—ä½œæ¬Šæ³•ã€‹è¨‚å®šäº†åˆç†ä½¿ç”¨çš„ç¯„åœï¼Œå›æ‡‰å­¸è¡“ã€æ–°èã€è¨€è«–ã€è¡Œæ”¿ç­‰å…¬ç›Šéœ€æ±‚ã€‚
            </div>
            <p><strong>é™åˆ¶ï¼š</strong>åˆç†ä½¿ç”¨ä¸¦éä»»æ„ä½¿ç”¨ï¼Œè€Œæ˜¯æ³•å¾‹å…è¨±çš„ã€Œä¾‹å¤–ã€ã€‚å¿…é ˆåœ¨ä¸ç¶“éè‘—ä½œäººåŒæ„ä¸‹ï¼Œæœ‰é™åº¦åœ°ä½¿ç”¨ã€‚</p>
        </div>

        <div class="card">
            <h3>ğŸ“ éš¨å ‚æª¢æ¸¬</h3>
            <form id="quiz-form">
                <!-- é¡Œç›® 1 -->
                <div class="question" data-ans="3">
                    <p><strong>1. ä¸‹åˆ—å“ªä¸€é …å±¬æ–¼ã€Œå€‹äººè³‡æ–™ã€ï¼Ÿ</strong></p>
                    <div class="options">
                        <label><input type="radio" name="q1" value="1"> å–œæ­¡åƒçš„é£Ÿç‰©ç¨®é¡</label>
                        <label><input type="radio" name="q1" value="2"> å¯µç‰©çš„åå­—</label>
                        <label><input type="radio" name="q1" value="3"> èº«åˆ†è­‰å­—è™Ÿ</label>
                        <label><input type="radio" name="q1" value="4"> æ‰€åœ¨çš„ç›´è½„å¸‚åç¨±</label>
                    </div>
                    <div class="explanation">è§£æï¼šæ­£ç¢ºè§£ç­”ç‚ºã€Œèº«åˆ†è­‰å­—è™Ÿã€ã€‚å€‹è³‡æ³•ä¿è­·çš„æ˜¯èƒ½ç›´æ¥æˆ–é–“æ¥è­˜åˆ¥å€‹äººçš„è³‡æ–™ã€‚</div>
                </div>

                <!-- é¡Œç›® 2 -->
                <div class="question" data-ans="2">
                    <p><strong>2. å¦‚æœå€‹äººè³‡æ–™è¢«ä¸æ³•äººå£«å–å¾—ï¼Œæœ€å¯èƒ½æœƒç™¼ç”Ÿä»€éº¼æƒ…æ³ï¼Ÿ</strong></p>
                    <div class="options">
                        <label><input type="radio" name="q2" value="1"> ç²å¾—å…è²»é»æ•¸æˆ–å„ªæƒ åˆ¸</label>
                        <label><input type="radio" name="q2" value="2"> æ”¶åˆ°é™Œç”Ÿçš„è©é¨™é›»è©±æˆ–ç°¡è¨Š</label>
                        <label><input type="radio" name="q2" value="3"> å¯ä»¥åƒåŠ æ›´å¤šæ´»å‹•æŠ½ç</label>
                        <label><input type="radio" name="q2" value="4"> å¾—åˆ°æ›´å¤šäº¤æœ‹å‹çš„æ©Ÿæœƒ</label>
                    </div>
                    <div class="explanation">è§£æï¼šå€‹è³‡å¤–æ´©æœ€å¸¸è¦‹çš„å±å®³å°±æ˜¯è¢«ç”¨æ–¼è©é¨™æˆ–é¨·æ“¾ã€‚</div>
                </div>

                <!-- é¡Œç›® 3 -->
                <div class="question" data-ans="1">
                    <p><strong>3. å°æ˜åœ¨å¯«å ±å‘Šæ™‚ï¼Œå¼•ç”¨èª²æœ¬åœ–ç‰‡ä¸¦è¨»æ˜ä¾†æºï¼Œé€™å±¬æ–¼ï¼Ÿ</strong></p>
                    <div class="options">
                        <label><input type="radio" name="q3" value="1"> è‘—ä½œåˆç†ä½¿ç”¨</label>
                        <label><input type="radio" name="q3" value="2"> å·åˆ¥äººçš„å‰µä½œ</label>
                        <label><input type="radio" name="q3" value="3"> é•æ³•è¡Œç‚º</label>
                        <label><input type="radio" name="q3" value="4"> ä¾µå®³è‘—ä½œæ¬Š</label>
                    </div>
                    <div class="explanation">è§£æï¼šåœ¨æ•™è‚²ã€å­¸è¡“ç›®çš„ä¸‹é©åº¦å¼•ç”¨ä¸¦è¨»æ˜å‡ºè™•ï¼Œé€šå¸¸ç¬¦åˆåˆç†ä½¿ç”¨åŸå‰‡ã€‚</div>
                </div>

                <!-- é¡Œç›® 4 -->
                <div class="question" data-ans="4">
                    <p><strong>4. ä¸‹åˆ—å“ªä¸€ç¨®æƒ…æ³ã€Œä¸ç¬¦åˆã€åˆç†ä½¿ç”¨åŸå‰‡ï¼Ÿ</strong></p>
                    <div class="options">
                        <label><input type="radio" name="q4" value="1"> å¼•ç”¨åœ–ç‰‡ä¸¦è¨»æ˜å‡ºè™•</label>
                        <label><input type="radio" name="q4" value="2"> è‡ªå·±è²·çš„CDç¿»éŒ„ä¸€ä»½è‡ªå·±è½</label>
                        <label><input type="radio" name="q4" value="3"> æ•™å­¸æ’­æ”¾å½±ç‰‡ç‰‡æ®µè¨è«–</label>
                        <label><input type="radio" name="q4" value="4"> å°‡ä»–äººæ–‡ç« æ•´ç¯‡ç•¶ä½œä½œæ¥­ç¹³äº¤</label>
                    </div>
                    <div class="explanation">è§£æï¼šå°‡ä»–äººæ–‡ç« æ•´ç¯‡ç›œç”¨å±¬æ–¼æŠ„è¥²ï¼Œåš´é‡ä¾µå®³è‘—ä½œæ¬Šã€‚</div>
                </div>

                <div id="result-area" class="result-msg"></div>
                <button type="button" id="submit-btn" class="btn btn-primary" onclick="submitQuiz()">é€å‡ºæ¸¬é©—</button>
            </form>
        </div>
    </div>

    <!-- 3. ä½œç­”ç´€éŒ„ç•«é¢ -->
    <div id="record-screen" class="container hidden">
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h2>ğŸ“Š æ­·å²ä½œç­”ç´€éŒ„</h2>
                <button class="btn btn-secondary" style="width: auto;" onclick="goBack()">è¿”å›</button>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>ç­ç´š</th>
                        <th>åº§è™Ÿ</th>
                        <th>å§“å</th>
                        <th>åˆ†æ•¸</th>
                        <th>æ™‚é–“</th>
                    </tr>
                </thead>
                <tbody id="record-table-body">
                    <!-- è³‡æ–™å°‡ç”± JS å‹•æ…‹ç”¢ç”Ÿ -->
                </tbody>
            </table>
            <button class="btn btn-danger" style="margin-top: 30px; background: #94a3b8;" onclick="clearHistory()">æ¸…é™¤æ‰€æœ‰ç´€éŒ„</button>
        </div>
    </div>
</div>

<script>
    /* JavaScript é‚è¼¯å€ï¼šæ§åˆ¶ç¶²é äº’å‹• */
    let currentUser = null;

    // 1. ç™»å…¥åŠŸèƒ½
    function login() {
        const cls = document.getElementById('input-class').value;
        const seat = document.getElementById('input-seat').value;
        const name = document.getElementById('input-name').value;

        if (!seat || !name) {
            alert("è«‹å¡«å¯«å®Œæ•´çš„åº§è™Ÿèˆ‡å§“åå–”ï¼");
            return;
        }

        currentUser = { cls, seat, name };
        document.getElementById('user-display').innerText = `${cls} ç­ ${seat} è™Ÿ ${name}`;
        
        // åˆ‡æ›ç•«é¢
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('nav-section').classList.remove('hidden');
        document.getElementById('main-screen').classList.remove('hidden');
        document.getElementById('record-screen').classList.add('hidden');
        
        resetQuiz();
    }

    // 2. ç™»å‡º
    function logout() {
        currentUser = null;
        document.getElementById('login-screen').classList.remove('hidden');
        document.getElementById('nav-section').classList.add('hidden');
        document.getElementById('main-screen').classList.add('hidden');
        document.getElementById('record-screen').classList.add('hidden');
    }

    // 3. é€å‡ºæ¸¬é©—
    function submitQuiz() {
        const questions = document.querySelectorAll('.question');
        let score = 0;
        let allAnswered = true;

        questions.forEach((q, index) => {
            const selected = q.querySelector('input:checked');
            if (!selected) {
                allAnswered = false;
            }
        });

        if (!allAnswered) {
            alert("é‚„æœ‰é¡Œç›®æ²’å¯«å®Œå–”ï¼");
            return;
        }

        // æ‰¹æ”¹
        questions.forEach((q) => {
            const selected = q.querySelector('input:checked');
            const correctAns = q.getAttribute('data-ans');
            const explanation = q.querySelector('.explanation');
            
            explanation.style.display = 'block'; // é¡¯ç¤ºè§£æ
            
            if (selected.value === correctAns) {
                score += 25;
                selected.parentElement.style.background = "#dcfce7";
                selected.parentElement.style.color = "#166534";
            } else {
                selected.parentElement.style.background = "#fee2e2";
                selected.parentElement.style.color = "#991b1b";
                // æ¨™ç¤ºæ­£ç¢ºç­”æ¡ˆ
                q.querySelector(`input[value="${correctAns}"]`).parentElement.style.border = "2px solid #16a34a";
            }
            
            // åœç”¨é¸é …é¿å…é‡è¤‡æ›´æ”¹
            q.querySelectorAll('input').forEach(input => input.disabled = true);
        });

        document.getElementById('result-area').innerText = `æ¸¬é©—å®Œæˆï¼ä½ çš„å¾—åˆ†æ˜¯ï¼š${score} åˆ†`;
        document.getElementById('submit-btn').classList.add('hidden');

        // å„²å­˜è‡³æœ¬åœ°è¨˜æ†¶é«” (LocalStorage)
        saveToLocalStorage(score);
    }

    // 4. é‡ç½®æ¸¬é©—
    function resetQuiz() {
        document.getElementById('quiz-form').reset();
        document.getElementById('result-area').innerText = "";
        document.getElementById('submit-btn').classList.remove('hidden');
        document.querySelectorAll('.explanation').forEach(el => el.style.display = 'none');
        document.querySelectorAll('.options label').forEach(el => {
            el.style.background = "";
            el.style.color = "";
            el.style.border = "";
        });
        document.querySelectorAll('input').forEach(input => input.disabled = false);
    }

    // 5. å„²å­˜ç´€éŒ„
    function saveToLocalStorage(score) {
        let history = JSON.parse(localStorage.getItem('quiz_records')) || [];
        const newRecord = {
            cls: currentUser.cls,
            seat: currentUser.seat,
            name: currentUser.name,
            score: score,
            time: new Date().toLocaleString()
        };
        history.push(newRecord);
        localStorage.setItem('quiz_records', JSON.stringify(history));
    }

    // 6. é¡¯ç¤ºç´€éŒ„
    function showRecords() {
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('main-screen').classList.add('hidden');
        document.getElementById('record-screen').classList.remove('hidden');

        const history = JSON.parse(localStorage.getItem('quiz_records')) || [];
        const tbody = document.getElementById('record-table-body');
        tbody.innerHTML = "";

        if (history.length === 0) {
            tbody.innerHTML = "<tr><td colspan='5' style='text-align:center'>ç›®å‰å°šç„¡ç´€éŒ„</td></tr>";
        } else {
            history.reverse().forEach(r => {
                const row = `<tr>
                    <td>${r.cls}</td>
                    <td>${r.seat}</td>
                    <td>${r.name}</td>
                    <td style="font-weight:bold; color:var(--primary)">${r.score}</td>
                    <td style="font-size:12px; color:gray">${r.time}</td>
                </tr>`;
                tbody.innerHTML += row;
            });
        }
    }

    // 7. è¿”å›
    function goBack() {
        if (currentUser) {
            document.getElementById('main-screen').classList.remove('hidden');
            document.getElementById('record-screen').classList.add('hidden');
        } else {
            document.getElementById('login-screen').classList.remove('hidden');
            document.getElementById('record-screen').classList.add('hidden');
        }
    }

    // 8. æ¸…é™¤ç´€éŒ„
    function clearHistory() {
        if (confirm("ç¢ºå®šè¦åˆªé™¤é€™å°é›»è…¦ä¸Šçš„æ‰€æœ‰ä½œç­”ç´€éŒ„å—ï¼Ÿ")) {
            localStorage.removeItem('quiz_records');
            showRecords();
        }
    }
</script>

</body>
</html>
